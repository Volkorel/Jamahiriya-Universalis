namespace = assassinate_espionage_option_mod_own_heir_events

# ROOT can choose methode of assassination
country_event = {
	id = assassinate_espionage_option_mod_own_heir_events.1
	title = assassinate_espionage_option_mod_own_heir_events.EVTNAME1
	desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC1
	picture = ASSASSINATION_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			FROM = {
				remove_province_triggered_modifier = assassination_start_own_heir_triggered_modifier
			}
			# Set base chance (5%):
			set_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_assault value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_assassin value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_drowning value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 5 }
			set_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 5 }
			
			# Change base chance depending on traits/personalities:
			if = {
				limit = {
					NOT = { has_dlc = "Rights of Man" }
				}
				random_list = {
					90 = {
						# No additional base chance
					}
					10 = {
						change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_assault value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 4 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 4 }
					}
				}
				random_list = {
					5 = {
						change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_assault value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -10 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -10 }
					}
					10 = {
						change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_assault value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -5 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -5 }
					}
					15 = {
						change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_assault value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -3 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -3 }
					}
					40 = {
						# No additional base chance
					}
					15 = {
						change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_assault value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 3 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 3 }
					}
					10 = {
						change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_assault value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 5 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 5 }
					}
					5 = {
						change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_assault value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 10 }
						change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 10 }
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Rights of Man"
					heir_has_personality = careful_personality
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -10 }
			}
			if = {
				limit = {
					has_dlc = "Rights of Man"
					heir_has_personality = charismatic_negotiator_personality
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -5 }
			}
			if = {
				limit = {
					has_dlc = "Rights of Man"
					heir_has_personality = secretive_personality
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -3 }
			}
			if = {
				limit = {
					has_dlc = "Rights of Man"
					heir_has_personality = cruel_personality
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 10 }
			}
			if = {
				limit = {
					has_dlc = "Rights of Man"
					heir_has_personality = naive_personality
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 5 }
			}
			if = {
				limit = {
					has_dlc = "Rights of Man"
					heir_has_personality = loose_lips_personality
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 3 }
			}
			if = {
				limit = {
					has_dlc = "Rights of Man"
					heir_has_personality = intricate_web_weaver_personality
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -4 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -4 }
			}
			
			# Change base chance depending on stability:
			if = {
				limit = {
					stability = 3
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -6 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -6 }
			}
			else_if = {
				limit = {
					stability = 2
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -2 }
			}
			else_if = {
				limit = {
					stability = 1
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 1 }
			}
			else_if = {
				limit = {
					stability = 0
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 2 }
			}
			else_if = {
				limit = {
					stability = -1
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 4 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 4 }
			}
			else_if = {
				limit = {
					stability = -2
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 6 }
			}
			else = {
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 8 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 8 }
			}
			
			# Change base chance depending on prestige:
			if = {
				limit = {
					prestige = 75
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -3 }
			}
			else_if = {
				limit = {
					prestige = 50
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -2 }
			}
			else_if = {
				limit = {
					prestige = 25
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -1 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -1 }
			}
			else_if = {
				limit = {
					NOT = { prestige = -25 }
					prestige = -50
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 1 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 1 }
			}
			else_if = {
				limit = {
					NOT = { prestige = -50 }
					prestige = -75
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 2 }
			}
			else_if = {
				limit = {
					NOT = { prestige = -75 }
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 3 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 3 }
			}
			
			# Change base chance depending on Spy Ideas:
			if = {
				limit = {
					has_idea_group = spy_ideas
				}
				if = {
					limit = {
						full_idea_group = spy_ideas
					}
					change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_assault value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 14 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 14 }
				}
				else_if = {
					limit = {
						spy_ideas = 6
					}
					change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_assault value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 12 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 12 }
				}
				else_if = {
					limit = {
						spy_ideas = 5
					}
					change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_assault value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 10 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 10 }
				}
				else_if = {
					limit = {
						spy_ideas = 4
					}
					change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_assault value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 8 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 8 }
				}
				else_if = {
					limit = {
						spy_ideas = 3
					}
					change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_assault value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 6 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 6 }
				}
				else_if = {
					limit = {
						spy_ideas = 2
					}
					change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_assault value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 4 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 4 }
				}
				else_if = {
					limit = {
						spy_ideas = 1
					}
					change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_assault value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 2 }
					change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 2 }
				}					
			}
			
			# Change base chance depending on advisor:
			if = {
				limit = {
					spymaster = 3
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 12 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 12 }
			}
			else_if = {
				limit = {
					spymaster = 2
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 6 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 6 }
			}
			else_if = {
				limit = {
					spymaster = 1
				}
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 2 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 2 }
			}
			
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = infanticide target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = faked_accident target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = poisoned_wine target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = poisoned_food target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = assault target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = assassin target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = bribed_guard target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = drowning target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = balcony_plummet target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = disguised_harlot target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = disguised_beggar target = heir }
			calculate_chances_of_own_ruler_or_heir_assassination_methode = { methode = disguised_priest target = heir }				
			
			# Set base chance to min 0% and max 100%:
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_assault value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_assault value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_assault value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_assault value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_assassin value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_assassin value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_assassin value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_assassin value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_drowning value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_drowning value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_drowning value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_drowning value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 0 }
			}
		}
	}
	
	option = {	# Infanticide (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT0
		
		trigger = {
			NOT = { heir_age = 11 }
			success_chance_of_this_method_is_the_best_in_own_country = { method = infanticide target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = infanticide target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 2 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_INFANTICIDE
		
		add_years_of_income = -2
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_infanticide
		}
	}
	
	option = {	# Infanticide
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT0
		
		trigger = {
			NOT = { heir_age = 11 }
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = infanticide target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = infanticide target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 2 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_INFANTICIDE
		
		add_years_of_income = -2
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_infanticide
		}
	}
	
	option = {	# Faked accident (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT1
		
		trigger = {
			success_chance_of_this_method_is_the_best_in_own_country = { method = faked_accident target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = faked_accident target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 2 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_FAKED_ACCIDENT
		
		add_years_of_income = -2
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_faked_accident
		}
	}
	
	option = {	# Faked accident
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT1
		
		trigger = {
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = faked_accident target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = faked_accident target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 2 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_FAKED_ACCIDENT
		
		add_years_of_income = -2
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_faked_accident
		}
	}
	
	option = {	# Poisoned wine (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT2
		
		trigger = {
			heir_age = 15
			success_chance_of_this_method_is_the_best_in_own_country = { method = poisoned_wine target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = poisoned_wine target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 1.5 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_POISONED_WINE
		
		add_years_of_income = -1.5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_poisoned_wine
		}
	}
	
	option = {	# Poisoned wine
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT2
		
		trigger = {
			heir_age = 15
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = poisoned_wine target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = poisoned_wine target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 1.5 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_POISONED_WINE
		
		add_years_of_income = -1.5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_poisoned_wine
		}
	}
	
	option = {	# Poisoned food (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT3
		
		trigger = {
			success_chance_of_this_method_is_the_best_in_own_country = { method = poisoned_food target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = poisoned_food target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 1.5 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_POISONED_FOOD
		
		add_years_of_income = -1.5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_poisoned_food
		}
	}
	
	option = {	# Poisoned food
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT3
		
		trigger = {
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = poisoned_food target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = poisoned_food target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 1.5 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_POISONED_FOOD
		
		add_years_of_income = -1.5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_poisoned_food
		}
	}
	
	option = {	# Ambush/Assault (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT4
		
		trigger = {
			heir_age = 15
			success_chance_of_this_method_is_the_best_in_own_country = { method = assault target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = assault target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 4 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_ASSAULT
		
		add_years_of_income = -4
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_assault
		}
	}
	
	option = {	# Ambush/Assault
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT4
		
		trigger = {
			heir_age = 15
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = assault target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = assault target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 4 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_ASSAULT
		
		add_years_of_income = -4
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_assault
		}
	}
	
	option = {	# Assassin (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT5
		
		trigger = {
			success_chance_of_this_method_is_the_best_in_own_country = { method = assassin target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = assassin target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 5 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_ASSASSIN
		
		add_years_of_income = -5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_assassin
		}
	}
	
	option = {	# Assassin
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT5
		
		trigger = {
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = assassin target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = assassin target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 5 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_ASSASSIN
		
		add_years_of_income = -5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_assassin
		}
	}
	
	option = {	# Bribed guard (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT6
		
		trigger = {
			success_chance_of_this_method_is_the_best_in_own_country = { method = bribed_guard target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = bribed_guard target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 3 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_BRIBED_GUARD
		
		add_years_of_income = -3
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_bribed_guard
		}
	}
	
	option = {	# Bribed guard
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT6
		
		trigger = {
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = bribed_guard target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = bribed_guard target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 3 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_BRIBED_GUARD
		
		add_years_of_income = -3
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_bribed_guard
		}
	}
	
	# Depending on personalities
	option = {	# Drowning (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT7
		
		trigger = {
			has_dlc = "Rights of Man"
			heir_has_personality = naive_personality
			success_chance_of_this_method_is_the_best_in_own_country = { method = drowning target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = drowning target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 2 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_DROWNING
		
		add_years_of_income = -2
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_drowning
		}
	}
	
	option = {	# Drowning
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT7
		
		trigger = {
			has_dlc = "Rights of Man"
			heir_has_personality = naive_personality
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = drowning target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = drowning target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 2 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_DROWNING
		
		add_years_of_income = -2
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_drowning
		}
	}
	
	option = {	# Balcony plummet (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT8
		
		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				heir_has_personality = greedy_personality
				heir_has_personality = entrepreneur_personality
			}
			success_chance_of_this_method_is_the_best_in_own_country = { method = balcony_plummet target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = balcony_plummet target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 2 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_BALCONY_PLUMMET
		
		add_years_of_income = -2
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_balcony_plummet
		}
	}
	
	option = {	# Balcony plummet
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT8
		
		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				heir_has_personality = greedy_personality
				heir_has_personality = entrepreneur_personality
			}
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = balcony_plummet target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = balcony_plummet target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 2 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_BALCONY_PLUMMET
		
		add_years_of_income = -2
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_balcony_plummet
		}
	}
	
	option = {	# Disguised harlot (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT9
		
		trigger = {
			has_dlc = "Rights of Man"
			heir_has_personality = sinner_personality
			heir_age = 15
			success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_harlot target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_harlot target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 1 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_DISGUISED_HARLOT
		
		add_years_of_income = -1
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_disguised_harlot
		}
	}
	
	option = {	# Disguised harlot
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT9
		
		trigger = {
			has_dlc = "Rights of Man"
			heir_has_personality = sinner_personality
			heir_age = 15
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_harlot target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_harlot target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 1 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_DISGUISED_HARLOT
		
		add_years_of_income = -1
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_disguised_harlot
		}
	}
	
	option = {	# Disguised beggar (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT10
		
		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				heir_has_personality = benevolent_personality
				heir_has_personality = kind_hearted_personality
			}
			heir_age = 15
			success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_beggar target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_beggar target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 1.5 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_DISGUISED_BEGGAR
		
		add_years_of_income = -1.5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_disguised_beggar
		}
	}
	
	option = {	# Disguised beggar
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT10
		
		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				heir_has_personality = benevolent_personality
				heir_has_personality = kind_hearted_personality
			}
			heir_age = 15
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_beggar target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_beggar target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 1.5 }
			}
		}
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_DISGUISED_BEGGAR
		
		add_years_of_income = -1.5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_disguised_beggar
		}
	}
	
	option = {	# Disguised priest (Highlighted)
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT11
		
		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				heir_has_personality = zealot_personality
				heir_has_personality = pious_personality
			}
			heir_age = 10
			success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_priest target = heir }
		}
		
		highlight = yes
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_priest target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 3.5 }
			}
		}
		
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_DISGUISED_PRIEST
		
		add_years_of_income = -3.5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_disguised_priest
		}
	}
	
	option = {	# Disguised priest
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT11
		
		trigger = {
			has_dlc = "Rights of Man"
			OR = {
				heir_has_personality = zealot_personality
				heir_has_personality = pious_personality
			}
			heir_age = 10
			NOT = { success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_priest target = heir } }
		}
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 10
				
				success_chance_of_this_method_is_the_best_in_own_country = { method = disguised_priest target = heir }
			}
			
			modifier = {
				factor = 0.01
				
				NOT = { years_of_income = 3.5 }
			}
		}
		
		
		custom_tooltip = CHOOSE_OWN_HEIR_ASSASSINATION_METHODE_DISGUISED_PRIEST
		
		add_years_of_income = -3.5
		
		hidden_effect = {
			set_country_flag = methode_of_assassination_of_own_heir_is_disguised_priest
		}
	}
	
	# Cancel
	option = {
		name = assassinate_espionage_option_mod_own_heir_events1.EVTOPT12
		
		ai_chance = { factor = 0 }
		
		hidden_effect = {
			add_adm_power = 100
			clr_country_flag = assassination_attempt_of_own_heir
			remove_country_modifier = cooldown_plan_assassination
		}
	}
}

# Assassin may need more money
country_event = {
	id = assassinate_espionage_option_mod_own_heir_events.2
	title = assassinate_espionage_option_mod_own_heir_events.EVTNAME2
	desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC2
	picture = BAD_WITH_MONARCH_eventPicture
	
	hidden = yes
	
	trigger = {
		has_country_flag = assassination_attempt_of_own_heir
		had_country_flag = { flag = assassination_attempt_of_own_heir days = 365 }
		NOT = { has_country_flag = assassination_preparations_of_own_heir_complete }
		NOT = { has_country_flag = assassin_of_own_heir_needs_more_money }
		NOT = { has_country_flag = assassin_of_own_heir_needs_much_more_money }
	}
	
	mean_time_to_happen = {
		months = 24
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = training_better_assassins
					had_country_flag = { flag = training_better_assassins days = 1825 }
					NOT = { had_country_flag = { flag = training_better_assassins days = 7665 } }
					OR = {
						NOT = { has_dlc = "Rights of Man" }
						AND = {
							has_dlc = "Rights of Man"
							NOT = { heir_has_personality = careful_personality }
						}
					}
				}
				random_list = {
					50 = {
						set_country_flag = assassination_preparations_of_own_heir_complete
					}
					30 = {
						set_country_flag = assassin_of_own_heir_needs_more_money
					}
					20 = {
						set_country_flag = assassin_of_own_heir_needs_much_more_money
					}
				}
			}	
			else = {
				random_list = {
					33 = {
						set_country_flag = assassination_preparations_of_own_heir_complete
					}
					33 = {
						set_country_flag = assassin_of_own_heir_needs_more_money
					}
					33 = {
						set_country_flag = assassin_of_own_heir_needs_much_more_money
					}
				}
			}
		}
	}
	
	option = {
		name = assassinate_espionage_option_mod_own_heir_events2.EVTOPT1
		
		ai_chance = { factor = 100 }
	}
}

# Assassin needs more money
country_event = {
	id = assassinate_espionage_option_mod_own_heir_events.3
	title = assassinate_espionage_option_mod_own_heir_events.EVTNAME3
	desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC3
	picture = ASSASSINATION_eventPicture
	
	trigger = {
		has_country_flag = assassination_attempt_of_own_heir
		OR = {
			AND = {
				has_country_flag = assassin_of_own_heir_needs_more_money
				had_country_flag = { flag = assassin_of_own_heir_needs_more_money days = 365 }
			}
			AND = {
				has_country_flag = assassin_of_own_heir_needs_much_more_money
				had_country_flag = { flag = assassin_of_own_heir_needs_much_more_money days = 365 }
			}
		}
		NOT = { has_country_flag = assassination_preparations_of_own_heir_complete }
	}
	
	mean_time_to_happen = {
		months = 24
		
		modifier = {
			factor = 0.01
			
			OR = {
				had_country_flag = { flag = assassin_of_own_heir_needs_more_money days = 1095 }
				had_country_flag = { flag = assassin_of_own_heir_needs_much_more_money days = 1095 }
			}
		}
	}
	
	option = {	# Give the assassin more money
		name = assassinate_espionage_option_mod_own_heir_events3.EVTOPT1
		
		ai_chance = {
			factor = 10
			
			modifier = {
				factor = 0
				
				OR = {
					AND = {
						has_country_flag = assassin_of_own_heir_needs_more_money
						NOT = { treasury = 3000 }
					}
					AND = {
						has_country_flag = assassin_of_own_heir_needs_much_more_money
						NOT = { treasury = 6000 }
					}
				}
			}
		}
		
		if = {
			limit = {
				has_country_flag = assassin_of_own_heir_needs_more_money
			}
			add_treasury = -2500
		}
		else_if = {
			limit = {
				has_country_flag = assassin_of_own_heir_needs_much_more_money
			}
			add_treasury = -5000
		}
	}
	
	option = {	# Don't give the assassin more money
		name = assassinate_espionage_option_mod_own_heir_events3.EVTOPT2
		
		ai_chance = {
			factor = 1
		}
		
		if = {
			limit = {
				has_country_flag = assassin_of_own_heir_needs_more_money
			}
			custom_tooltip = THIS_WILL_DECREASE_SUCCESS_CHANCE_OF_ASSASSINATION_ATTEMPT_OF_OWN_HEIR_WITH_5_PERCENT
			hidden_effect = {
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -5 }
			}
		}
		else_if = {
			limit = {
				has_country_flag = assassin_of_own_heir_needs_much_more_money
			}
			custom_tooltip = THIS_WILL_DECREASE_SUCCESS_CHANCE_OF_ASSASSINATION_ATTEMPT_OF_OWN_HEIR_WITH_10_PERCENT
			hidden_effect = {
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = -10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = -10 }
			}
		}
	}
	
	option = {	# Give the assassin even more money
		name = assassinate_espionage_option_mod_own_heir_events3.EVTOPT3
		
		trigger = {
			treasury = 10000
		}
		
		ai_chance = {
			factor = 10
			
			modifier = {
				factor = 0
				
				NOT = { treasury = 13000 }
			}
		}
		
		add_treasury = -10000
		
		if = {
			limit = {
				has_country_flag = assassin_of_own_heir_needs_more_money
			}
			custom_tooltip = THIS_WILL_INCREASE_SUCCESS_CHANCE_OF_ASSASSINATION_ATTEMPT_OF_OWN_HEIR_WITH_5_PERCENT
			hidden_effect = {
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 5 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 5 }
			}
		}
		else_if = {
			limit = {
				has_country_flag = assassin_of_own_heir_needs_much_more_money
			}
			custom_tooltip = THIS_WILL_INCREASE_SUCCESS_CHANCE_OF_ASSASSINATION_ATTEMPT_OF_OWN_HEIR_WITH_10_PERCENT
			hidden_effect = {
				change_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_assault value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_assassin value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_drowning value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 10 }
				change_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 10 }
			}
		}
	}
	
	after = {
		hidden_effect = {
			set_country_flag = assassination_preparations_of_own_heir_complete
			clr_country_flag = assassin_of_own_heir_needs_more_money
			clr_country_flag = assassin_of_own_heir_needs_much_more_money
		}
	}
}

# Assassination is started
country_event = {
	id = assassinate_espionage_option_mod_own_heir_events.4
	title = assassinate_espionage_option_mod_own_heir_events.EVTNAME4
	desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC4
	picture = ASSASSINATION_eventPicture
	
	hidden = yes
	
	trigger = {
		has_country_flag = assassination_attempt_of_own_heir
		has_country_flag = assassination_preparations_of_own_heir_complete
	}
	
	mean_time_to_happen = {
		months = 24
	
		modifier = {
			factor = 0.01
			
			had_country_flag = { flag = assassination_preparations_of_own_heir_complete days = 1095 }
		}
	}
	
	immediate = {
		hidden_effect = {
			capital_scope = {
				add_province_triggered_modifier = assassination_completed_own_heir_triggered_modifier
			}
			clr_country_flag = assassination_preparations_of_own_heir_complete
		}
	}
	
	option = {
		name = assassinate_espionage_option_mod_own_heir_events4.EVTOPT1
		
		ai_chance = { factor = 100 }
	}
}

# Assassination is executed
country_event = {
	id = assassinate_espionage_option_mod_own_heir_events.5
	title = assassinate_espionage_option_mod_own_heir_events.EVTNAME5
	desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC5
	picture = ASSASSINATION_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			FROM = {
				remove_province_triggered_modifier = assassination_completed_own_heir_triggered_modifier
			}
			# Set base chance to min 0% and max 100%:
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_infanticide value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_faked_accident value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_poisoned_wine value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_poisoned_food value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_assault value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_assault value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_assault value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_assault value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_assassin value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_assassin value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_assassin value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_assassin value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_bribed_guard value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_drowning value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_drowning value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_drowning value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_drowning value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_balcony_plummet value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_harlot value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_beggar value = 0 }
			}
			if = {
				limit = {
					check_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 101 }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 100 }
			}
			if = {
				limit = {
					NOT = { check_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 0 } }
				}
				set_variable = { which = own_heir_assassination_success_chance_of_disguised_priest value = 0 }
			}
			
			if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_infanticide
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = infanticide target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_faked_accident
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = faked_accident target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_poisoned_wine
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = poisoned_wine target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_poisoned_food
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = faked_food target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_assault
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = assault target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_assassin
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = assassin target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_bribed_guard
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = bribed_guard target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_drowning
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = drowning target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_balcony_plummet
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = balcony_plummet target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_disguised_harlot
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = disguised_harlot target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_disguised_beggar
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = disguised_beggar target = heir }
			}
			else_if = {
				limit = {
					has_country_flag = methode_of_assassination_of_own_heir_is_disguised_priest
				}
				execute_assassination_attempt_of_own_ruler_or_heir_with_chances_of = { methode = disguised_priest target = heir }
			}
			
			if = {
				limit = {
					OR = {
						NOT = { is_free_or_tributary_trigger = yes }
						has_heir = no
					}
				}
				clr_country_flag = assassination_attempt_of_own_heir_successful
				clr_country_flag = assassination_attempt_of_own_heir_failed
				clr_country_flag = assassination_of_own_heir_unnoticed
				clr_country_flag = assassination_of_own_heir_noticed
				set_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore
			}
			
			country_event = { id = assassinate_espionage_option_mod_own_heir_events.6 }
		}
	}
	
	option = {
		name = assassinate_espionage_option_mod_own_heir_events15.EVTOPT1
		
		ai_chance = { factor = 100 }
	}
}

# Assassination completed
country_event = {
	id = assassinate_espionage_option_mod_own_heir_events.6
	title = assassinate_espionage_option_mod_own_heir_events.EVTNAME6
	desc = {
		trigger = {
			has_country_flag = assassination_attempt_of_own_heir_successful
			has_country_flag = assassination_of_own_heir_unnoticed
			NOT = { has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore }
		}
		desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC6.1
	}
	desc = {
		trigger = {
			has_country_flag = assassination_attempt_of_own_heir_successful
			has_country_flag = assassination_of_own_heir_noticed
			NOT = { has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore }
		}
		desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC6.2
	}
	desc = {
		trigger = {
			OR = {
				AND = {
					has_country_flag = assassination_attempt_of_own_heir_failed
					has_country_flag = assassination_of_own_heir_unnoticed
				}
				has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore
			}
		}
		desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC6.3
	}
	desc = {
		trigger = {
			has_country_flag = assassination_attempt_of_own_heir_failed
			has_country_flag = assassination_of_own_heir_noticed
			NOT = { has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore }
		}
		desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC6.4
	}
	picture = {
		trigger = {
			has_country_flag = assassination_attempt_of_own_heir_successful
			NOT = { has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore }
		}
		picture = GOOD_WITH_MONARCH_eventPicture
	}
	picture = {
		trigger = {
			OR = {
				has_country_flag = assassination_attempt_of_own_heir_failed
				has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore
			}
		}
		picture = BAD_WITH_MONARCH_eventPicture
	}
	
	is_triggered_only = yes
	
	option = {
		name = assassinate_espionage_option_mod_own_heir_events6.EVTOPT1
		
		trigger = {
			has_country_flag = assassination_attempt_of_own_heir_successful
			has_country_flag = assassination_of_own_heir_unnoticed
			NOT = { has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore }
		}
		
		kill_heir = yes
		add_prestige = 10
	}
	
	option = {
		name = assassinate_espionage_option_mod_own_heir_events6.EVTOPT2
		
		trigger = {
			has_country_flag = assassination_attempt_of_own_heir_successful
			has_country_flag = assassination_of_own_heir_noticed
			NOT = { has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore }
		}
		
		kill_heir = yes
		add_stability = -1
		
		add_prestige = -25
		capital_scope = {
			spawn_rebels = {
				type = pretender_rebels
				size = 3
			}
		}
	}
	
	option = {
		name = assassinate_espionage_option_mod_own_heir_events6.EVTOPT3
		
		trigger = {
			OR = {
				AND = {
					has_country_flag = assassination_attempt_of_own_heir_failed
					has_country_flag = assassination_of_own_heir_unnoticed
				}
				has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore
			}
		}
		
		add_prestige = -5
		add_adm_power = -100
	}
	
	option = {
		name = assassinate_espionage_option_mod_own_heir_events6.EVTOPT4
		
		trigger = {
			has_country_flag = assassination_attempt_of_own_heir_failed
			has_country_flag = assassination_of_own_heir_noticed
			NOT = { has_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore }
		}
		
		add_prestige = -10
		add_stability = -1
		
		country_event = { id = assassinate_espionage_option_mod_own_heir_events.7 days = 1 random = 10 }
	}
	
	after = {
		hidden_effect = {
			clr_country_flag = assassination_attempt_of_own_heir
			
			clr_country_flag = methode_of_assassination_of_own_heir_is_infanticide
			clr_country_flag = methode_of_assassination_of_own_heir_is_faked_accident
			clr_country_flag = methode_of_assassination_of_own_heir_is_poisoned_wine
			clr_country_flag = methode_of_assassination_of_own_heir_is_poisoned_food
			clr_country_flag = methode_of_assassination_of_own_heir_is_assault
			clr_country_flag = methode_of_assassination_of_own_heir_is_assassin
			clr_country_flag = methode_of_assassination_of_own_heir_is_bribed_guard
			clr_country_flag = methode_of_assassination_of_own_heir_is_drowning
			clr_country_flag = methode_of_assassination_of_own_heir_is_balcony_plummet
			clr_country_flag = methode_of_assassination_of_own_heir_is_disguised_harlot
			clr_country_flag = methode_of_assassination_of_own_heir_is_disguised_beggar
			clr_country_flag = methode_of_assassination_of_own_heir_is_disguised_priest
			
			clr_country_flag = assassination_attempt_of_own_heir_successful
			clr_country_flag = assassination_attempt_of_own_heir_failed
			clr_country_flag = assassination_of_own_heir_unnoticed
			clr_country_flag = assassination_of_own_heir_noticed
			clr_country_flag = assassination_of_own_heir_did_not_happen_because_target_does_not_exist_anymore
			
			clr_country_flag = assassination_preparations_of_own_heir_complete
		}
	}
}

# Member of court that planned assassination is revealed
country_event = {
	id = assassinate_espionage_option_mod_own_heir_events.7
	title = assassinate_espionage_option_mod_own_heir_events.EVTNAME7
	desc = assassinate_espionage_option_mod_own_heir_events.EVTDESC7
	picture = ASSASSINATION_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_regency = no
				}
				random_list = {
					45 = {
						set_country_flag = own_heir_assassination_planned_by_ruler
						set_country_flag = own_heir_assassination_plotter_noticed
					}
					45 = {
						set_country_flag = own_heir_assassination_planned_by_ruler
						set_country_flag = own_heir_assassination_plotter_unnoticed
					}
					10 = {
						# Heir wasn't involved
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_regency = yes
						AND = {
							NOT = { has_country_flag = own_heir_assassination_planned_by_ruler }
							NOT = { has_country_flag = own_heir_assassination_plotter_noticed }
							NOT = { has_country_flag = own_heir_assassination_plotter_unnoticed }
						}
					}
				}
				if = {
					limit = {
						has_dlc = "Rights of Man"
						has_consort = yes
					}
					random_list = {
						45 = {
							set_country_flag = own_heir_assassination_planned_by_consort
							set_country_flag = own_heir_assassination_plotter_noticed
						}
						45 = {
							set_country_flag = own_heir_assassination_planned_by_consort
							set_country_flag = own_heir_assassination_plotter_unnoticed
						}
						10 = {
							# Consort wasn't involved
						}
					}
				}
				if = {
					limit = {
						OR = {
							has_consort = no
							NOT = { has_dlc = "Rights of Man" }
							AND = {
								NOT = { has_country_flag = own_heir_assassination_planned_by_consort }
								NOT = { has_country_flag = own_heir_assassination_plotter_noticed }
								NOT = { has_country_flag = own_heir_assassination_plotter_unnoticed }
							}
						}
					}
					if = {
						limit = {
							has_advisor = yes
						}
						random_list = {
							45 = {
								set_country_flag = own_heir_assassination_planned_by_advisor
								set_country_flag = own_heir_assassination_plotter_noticed
							}
							45 = {
								set_country_flag = own_heir_assassination_planned_by_advisor
								set_country_flag = own_heir_assassination_plotter_unnoticed
							}
							10 = {
								# Advisor wasn't involved
							}
						}
					}
					if = {
						limit = {
							OR = {
								has_advisor = no
								AND = {
									NOT = { has_country_flag = own_heir_assassination_planned_by_advisor }
									NOT = { has_country_flag = own_heir_assassination_plotter_noticed }
									NOT = { has_country_flag = own_heir_assassination_plotter_unnoticed }
								}
							}
						}
						set_country_flag = own_heir_assassination_plotter_unnoticed
					}
				}
			}
		}
	}
	
	option = {
		name = assassinate_espionage_option_mod_own_heir_events7.EVTOPT1
		
		ai_chance = {
			factor = 1
			
			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = own_heir_assassination_planned_by_ruler
					has_country_flag = own_heir_assassination_planned_by_consort
					has_country_flag = own_heir_assassination_planned_by_advisor
				}
			}
		}
		
		if = {
			limit = {
				has_country_flag = own_heir_assassination_plotter_noticed
			}
			if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_ruler
				}
				custom_tooltip = RULER_WANTED_TO_ASSASSINATE_OWN_HEIR_DO_NOT_EXECUTE_PLOTTER
				add_legitimacy = -25
				add_prestige = -25
			}
			else_if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_consort
				}
				custom_tooltip = CONSORT_WANTED_TO_ASSASSINATE_OWN_HEIR_DO_NOT_EXECUTE_PLOTTER
				add_legitimacy = -20
				add_prestige = -20
				if = {
					limit = {
						NOT = { is_origin_of_consort = ROOT }
						any_country = {
							has_given_consort_to = ROOT
						}
					}
					every_country = {
						limit = {
							has_given_consort_to = ROOT
						}
						reverse_add_opinion = {
							who = ROOT
							modifier = their_consort_tried_to_kill_our_ruler_or_heir
						}
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_advisor
				}
				custom_tooltip = ADVISOR_WANTED_TO_ASSASSINATE_OWN_HEIR_DO_NOT_EXECUTE_PLOTTER
				add_legitimacy = -15
				add_prestige = -15
				random_owned_province = {
					limit = {
						is_in_capital_area = yes
					}
					spawn_rebels = {
						type = noble_rebels
						size = 2
						win = yes
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = own_heir_assassination_plotter_unnoticed
			}
			add_prestige = -5
			if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_ruler
				}
				custom_tooltip = RULER_MAYBE_WANTED_TO_ASSASSINATE_OWN_HEIR
			}
			else_if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_consort
				}
				custom_tooltip = CONSORT_MAYBE_WANTED_TO_ASSASSINATE_OWN_HEIR
			}
			else_if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_advisor
				}
				custom_tooltip = ADVISOR_MAYBE_WANTED_TO_ASSASSINATE_OWN_HEIR
			}
			else = {
				custom_tooltip = UNKNOWN_MAYBE_WANTED_TO_ASSASSINATE_OWN_HEIR
			}
		}
	}
	
	option = {
		name = assassinate_espionage_option_mod_own_heir_events7.EVTOPT2
		
		trigger = {
			OR = {
				has_country_flag = own_heir_assassination_planned_by_ruler
				has_country_flag = own_heir_assassination_planned_by_consort
				has_country_flag = own_heir_assassination_planned_by_advisor
			}
		}
		
		ai_chance = { factor = 1 }
		
		if = {
			limit = {
				has_country_flag = own_heir_assassination_plotter_noticed
			}
			if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_ruler
				}
				custom_tooltip = RULER_WANTED_TO_ASSASSINATE_OWN_HEIR_EXECUTE_PLOTTER
				add_legitimacy = -10
				add_prestige = -10
				kill_ruler = yes
			}
			else_if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_consort
				}
				custom_tooltip = CONSORT_WANTED_TO_ASSASSINATE_OWN_HEIR_EXECUTE_PLOTTER
				add_legitimacy = -5
				add_prestige = -5
				hidden_effect = { remove_consort = yes }
				if = {
					limit = {
						NOT = { is_origin_of_consort = ROOT }
						any_country = {
							has_given_consort_to = ROOT
						}
					}
					every_country = {
						limit = {
							has_given_consort_to = ROOT
						}
						add_opinion = {
							who = ROOT
							modifier = our_consort_tried_to_kill_their_ruler_or_heir
						}
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_advisor
				}
				custom_tooltip = ADVISOR_WANTED_TO_ASSASSINATE_OWN_HEIR_EXECUTE_PLOTTER
				add_legitimacy = 5
				add_prestige = 5
				kill_advisor = random
				custom_tooltip = IF_WE_HAVE_MORE_ADVISORS_SOME_MAY_WANT_TO_LEAVE
				hidden_effect = {
					if = {
						limit = {
							has_advisor = yes
						}
						random_list = {
							33 = {
								remove_advisor = random
							}
							33 = {
								remove_advisor = random
								if = {
									limit = {
										has_advisor = yes
									}
									remove_advisor = random
								}
							}
							33 = {
								# All other advisors stay
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = own_heir_assassination_plotter_unnoticed
			}
			if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_ruler
				}
				custom_tooltip = RULER_MAYBE_WANTED_TO_ASSASSINATE_OWN_HEIR_ABDICATE
				hidden_effect = { kill_ruler = yes }
			}
			else_if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_consort
				}
				custom_tooltip = CONSORT_MAYBE_WANTED_TO_ASSASSINATE_OWN_HEIR_DIVORCE
				every_country = {
					limit = {
						has_given_consort_to = ROOT
					} 
					hidden_effect = { country_event = { id = consort_events.205 days = 1 } } 
					tooltip = {
						add_opinion = {
							who = ROOT
							modifier = offended_by_divorce	
						}
						add_casus_belli = {
							target = ROOT
							type = cb_insult
							months = 60
						}
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = own_heir_assassination_planned_by_advisor
				}
				custom_tooltip = ADVISOR_MAYBE_WANTED_TO_ASSASSINATE_OWN_HEIR_REMOVE_ALL_ADVISORS
				hidden_effect = {
					remove_advisor = random
					if = {
						limit = {
							has_advisor = yes
						}
						remove_advisor = random
					}
					if = {
						limit = {
							has_advisor = yes
						}
						remove_advisor = random
					}
				}
			}
		}
	}
	
	after = {
		hidden_effect = {
			clr_country_flag = own_heir_assassination_planned_by_advisor
			clr_country_flag = own_heir_assassination_planned_by_ruler
			clr_country_flag = own_heir_assassination_planned_by_consort
			clr_country_flag = own_heir_assassination_plotter_noticed
			clr_country_flag = own_heir_assassination_plotter_unnoticed
		}
	}
}